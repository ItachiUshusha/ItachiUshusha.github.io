(function(){"use strict";var e={169:function(e,t,n){e.exports=n.p+"img/Shkota_island.41b2e958.jpg"},2111:function(e,t,n){e.exports=n.p+"img/Tokareva_s_cat.4f09dde9.jpg"},2331:function(e,t,n){n(8111),n(7588);var a=n(5130),o=n(6768);const s={class:"main"};function r(e,t,n,a,r,l){const c=(0,o.g2)("TbaseNav"),i=(0,o.g2)("TbaseGallery"),u=(0,o.g2)("TbaseCalc"),d=(0,o.g2)("TbaseMap");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(c),(0,o.Lk)("div",s,[(0,o.bF)(i,{class:"gallery",id:"gallery"}),(0,o.bF)(u,{id:"calculation"}),(0,o.bF)(d,{class:"map",id:"homeMap"})])],64)}var l=n(4232);const c={class:"nav__bar"},i={class:"nav-header"},u=["onClick"],d=["innerHTML"],p={class:"nav-text"};function m(e,t,n,a,s,r){return(0,o.uX)(),(0,o.CE)("nav",c,[(0,o.Lk)("div",i,[t[2]||(t[2]=(0,o.Lk)("h4",{class:"nav-title"},"Турбаза в Андреевке",-1)),(0,o.Lk)("div",{class:(0,l.C4)(["nav-menu",{active:s.isMenuOpen}])},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.navElem,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"nav-elem",key:e.name,onClick:t=>r.scrollTo(e.name)},[(0,o.Lk)("span",{class:"nav-icon",innerHTML:e.icon},null,8,d),(0,o.Lk)("span",p,(0,l.v_)(e.title),1)],8,u)))),128))],2),(0,o.Lk)("div",{class:(0,l.C4)(["burger-menu",{active:s.isMenuOpen}]),onClick:t[0]||(t[0]=(...e)=>r.toggleMenu&&r.toggleMenu(...e))},t[1]||(t[1]=[(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1)]),2)])])}var h={data(){return{isMenuOpen:!1,navElem:[{name:"calculation",title:"Заказать комнату",icon:"&#128719;"},{name:"homeMap",title:"Где нас найти",icon:"&#128205;"}]}},created(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{scrollTo(e){const t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth"}),this.isMenuOpen=!1)},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},handleScroll(){this.isMenuOpen=!1}}},v=n(1241);const y=(0,v.A)(h,[["render",m],["__scopeId","data-v-ef2977b0"]]);var f=y;const g={class:"calendar"};function _(e,t,n,s,r,l){const c=(0,o.g2)("Calendar"),i=(0,o.g2)("my-select"),u=(0,o.g2)("my-input"),d=(0,o.g2)("VueRecaptcha"),p=(0,o.g2)("my-button");return(0,o.uX)(),(0,o.CE)("div",g,[t[6]||(t[6]=(0,o.Lk)("h2",null,"Выберите дату",-1)),(0,o.bF)(c,{modelValue:r.dates,"onUpdate:modelValue":t[0]||(t[0]=e=>r.dates=e),inputId:"dates",showIcon:"",iconDisplay:"input",dateFormat:"dd/mm/yy",selectionMode:"range",manualInput:!1,selectOtherMonths:!0,minDate:l.setMinDate,maxDate:l.setMaxDate,showButtonBar:""},null,8,["modelValue","minDate","maxDate"]),r.dates?.length>0?((0,o.uX)(),(0,o.CE)("form",{key:0,method:"post",onSubmit:t[4]||(t[4]=(0,a.D$)(((...e)=>l.validate&&l.validate(...e)),["prevent"])),class:"selectables"},[(0,o.bF)(i,{modelValue:r.selected_room_type,"onUpdate:modelValue":t[1]||(t[1]=e=>r.selected_room_type=e),options:this.rooms_types,selectText:"Выберите количество кроватей"},null,8,["modelValue","options"]),(0,o.bF)(i,{modelValue:r.selectes_connection,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectes_connection=e),options:r.connections,selectText:"Как нам с вами связаться?"},null,8,["modelValue","options"]),r.selectes_connection?((0,o.uX)(),(0,o.Wv)(u,{key:0,modelValue:r.input_connection,"onUpdate:modelValue":t[3]||(t[3]=e=>r.input_connection=e),placeholder:l.choosePlaceholder,type:l.chooseType,pattern:l.choosePattern,required:""},null,8,["modelValue","placeholder","type","pattern"])):(0,o.Q3)("",!0),(0,o.bF)(d,{class:"vue-recaptcha",ref:"recaptcha",size:"invisible",sitekey:this.sitekey,onVerify:l.sendData,onExpired:l.onCaptchaExpired},null,8,["sitekey","onVerify","onExpired"]),(0,o.bF)(p,{type:"submit"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)(" Отправить ")]))),_:1})],32)):(0,o.Q3)("",!0)])}n(1701);var b=n(1805),k={components:{VueRecaptcha:b.A},data(){return{dates:[],selected_room_type:"",selectes_connection:"",input_connection:"",sitekey:"6LflZOsqAAAAAJrgd1R2ROCQEanjem4ffF-1kHO-",rooms_types:[{value:"3 beds",name:"3 кровати"},{value:"4 beds",name:"4 кровати"},{value:"5 beds",name:"5 кроватей"},{value:"6 beds",name:"6 кроватей"}],connections:[{value:"telegram",name:"Telegram"},{value:"whatsapp",name:"WhatsApp"},{value:"email",name:"Почта"}]}},methods:{async sendData(e){const t=this.dates.map((e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${a}`})),n={dates:t,room_type:this.selected_room_type,connection:this.selectes_connection,user_con:this.input_connection,captcha_response:e};try{const e=await fetch("http://127.0.0.1:8000/send-to-telegram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});e.ok?(alert("Данные успешно отправлены!"),this.dates=[],this.selected_room_type="",this.selectes_connection="",this.input_connection=""):alert("Не получилось отправить данные :(")}catch(a){console.error("Ошибка",a),alert("Произошла ошибка при отправке данных")}},validate(){this.$refs.recaptcha.execute()},onCaptchaExpired(){this.$refs.recaptcha.reset()}},computed:{setMinDate(){let e=new Date;const t=e.getFullYear();return e.getMonth()<5?new Date(t,5,1):e.getMonth()>8?new Date(t+1,5,1):void 0},setMaxDate(){let e=new Date;const t=e.getFullYear();return e.getMonth()<5?new Date(t,9,0):e.getMonth()>8?new Date(t+1,9,0):void 0},choosePlaceholder(){switch(this.selectes_connection){case"Telegram":return"@MyAcc";case"WhatsApp":return"+7...";case"Почта":return"example@mail.com"}},chooseType(){switch(this.selectes_connection){case"Telegram":return"text";case"WhatsApp":return"tel";case"Почта":return"email"}},choosePattern(){if("WhatsApp"===this.selectes_connection)return"+"===this.input_connection[0]?"[+][0-9]{11}":"[0-9]{11}"}}};const C=(0,v.A)(k,[["render",_],["__scopeId","data-v-6242440a"]]);var x=C;function M(e,t,n,a,s,r){const l=(0,o.g2)("my-carousel");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(l,{imgs:s.images},null,8,["imgs"])])}var w={data(){return{images:[n(169),n(2111),n(9695)]}}};const E=(0,v.A)(w,[["render",M]]);var I=E;const T={ref:"map",class:"map-container"},L=["href"];function O(e,t,n,a,s,r){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",T,null,512),(0,o.Lk)("a",{href:r.yandexMapsLink,target:"_blank",class:"open-in-yandex"},"Открыть в Яндекс.Картах",8,L)])}var A={name:"YandexMap",data(){return{homeCoordinate:[131.131879,42.650001]}},computed:{yandexMapsLink(){const[e,t]=this.homeCoordinate;return`https://yandex.ru/maps/?pt=${e},${t}&z=15&l=map`}},methods:{async initMap(){await ymaps3.ready;const{YMap:e,YMapDefaultSchemeLayer:t,YMapDefaultFeaturesLayer:n,YMapMarker:a}=ymaps3,{YMapDefaultMarker:o}=await ymaps3.import("@yandex/ymaps3-markers@0.0.1"),s=this.$refs.map,r=new e(s,{location:{center:this.homeCoordinate,zoom:15}});r.setMode("vector"),r.addChild(new t),r.addChild(new n);const l=new o({coordinates:this.homeCoordinate,title:"Турбаза",color:"#1a73e8"});r.addChild(l)}},async mounted(){await this.initMap()}};const S=(0,v.A)(A,[["render",O],["__scopeId","data-v-8932b3c2"]]);var D=S,V={components:{TbaseNav:f,TbaseCalc:x,TbaseGallery:I,TbaseMap:D}};const F=(0,v.A)(V,[["render",r]]);var X=F,$=n(7287),j=n(5366);const P=["value"],Y={selected:"",hidden:"",value:""},N=["value"];function W(e,t,n,a,s,r){return(0,o.uX)(),(0,o.CE)("select",{required:"",class:"select-items",onChange:t[0]||(t[0]=(...e)=>r.changeOption&&r.changeOption(...e)),value:n.modelValue},[(0,o.Lk)("option",Y,(0,l.v_)(n.selectText),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.options,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.value,value:e.name},(0,l.v_)(e.name),9,N)))),128))],40,P)}var K={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]},selectText:{type:String}},methods:{changeOption(e){this.$emit("update:modelValue",e.target.value)}}};const R=(0,v.A)(K,[["render",W],["__scopeId","data-v-eace6c9e"]]);var U=R;const q={class:"carousel"},z=["src"],B={class:"pagination"},G=["onClick"];function H(e,t,n,a,s,r){return(0,o.uX)(),(0,o.CE)("div",q,[(0,o.Lk)("div",{class:"carousel-content",style:(0,l.Tr)({transform:`translateX(-${100*s.currentIndex}%)`})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.imgs,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"carousel-item"},[(0,o.Lk)("img",{src:e,alt:""},null,8,z)])))),128))],4),(0,o.Lk)("button",{class:"carousel-control next",onClick:t[0]||(t[0]=(...e)=>r.nextSlide&&r.nextSlide(...e))}),(0,o.Lk)("button",{class:"carousel-control prev",onClick:t[1]||(t[1]=(...e)=>r.prevSlide&&r.prevSlide(...e))}),(0,o.Lk)("div",B,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.imgs,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{class:(0,l.C4)({active:s.currentIndex===t}),key:t,onClick:e=>r.goToSlide(t)},null,10,G)))),128))])])}var Q={name:"my-carousel",data(){return{currentIndex:0,interval:null}},props:{imgs:{type:Array,default:()=>[]}},methods:{prevSlide(){this.currentIndex=(this.currentIndex-1+this.imgs.length)%this.imgs.length},nextSlide(){this.currentIndex=(this.currentIndex+1)%this.imgs.length},goToSlide(e){this.currentIndex=e},startAutoPlay(){this.interval=setInterval(this.nextSlide,8e3)},stopAutoPlay(){clearInterval(this.interval)}},mounted(){this.startAutoPlay()}};const J=(0,v.A)(Q,[["render",H],["__scopeId","data-v-bc9156aa"]]);var Z=J;const ee=["value"];function te(e,t,n,a,s,r){return(0,o.uX)(),(0,o.CE)("input",{class:"input",type:"text",onInput:t[0]||(t[0]=(...e)=>r.updateInput&&r.updateInput(...e)),value:n.modelValue},null,40,ee)}var ne={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const ae=(0,v.A)(ne,[["render",te],["__scopeId","data-v-c40275bc"]]);var oe=ae;const se={class:"btn"};function re(e,t,n,a,s,r){return(0,o.uX)(),(0,o.CE)("button",se,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}var le={name:"my-button"};const ce=(0,v.A)(le,[["render",re],["__scopeId","data-v-1a38d83a"]]);var ie=ce,ue=[U,Z,oe,ie];const de=(0,a.Ef)(X);de.use($.Ay,{locale:{firstDayOfWeek:1,dayNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить"}}),ue.forEach((e=>{de.component(e.name,e)})),de.component("Calendar",j.A),de.mount("#app")},9695:function(e,t,n){e.exports=n.p+"img/Yacht_bay.e8dcceec.jpg"}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],s=e[u][2];for(var l=!0,c=0;c<a.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(l=!1,s<r&&(r=s));if(l){e.splice(u--,1);var i=o();void 0!==i&&(t=i)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,r=a[0],l=a[1],c=a[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(c)var u=c(n)}for(t&&t(a);i<r.length;i++)s=r[i],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},a=self["webpackChunktour_base_vue"]=self["webpackChunktour_base_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(2331)}));a=n.O(a)})();
//# sourceMappingURL=app.0e8fc84b.js.map